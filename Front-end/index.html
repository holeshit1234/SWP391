<!DOCTYPE html>
<html lang="en">

<head>
	<title>SWP team project</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<!-- Bootstrap -->
	<link href="css/bootstrap.min.css" rel="stylesheet">
	
	<link rel="stylesheet" href="css/styleindex.css">
	
	<link rel="shortcut icon" href="images/logo.png">
	<link rel="stylesheet" href="icon fronts/font-awesome-4.7.0/css/font-awesome.min.css">
</head>

<body>
<!---------HEADER-------->
	<header>
		<div class="logo">
			<img  src="images/logo-circle.png">
		</div>
		<div class="menu">
			<li><a href="">Male</a>
				<ul class="sub-menu">
					<li><a href="">New products</a></li>
					<li><a href="">Collection</a></li>
					<li><a href="">Men's shirt</a>
						<ul>
							<li><a href="">Shirt</a></li>
							<li><a href="">T-shirt</a></li>
							<li><a href="">Vest</a></li>
							<li><a href="">Sweater</a></li>
							<li><a href="">Coat</a></li>
						</ul>					
					</li>
					<li><a href="">Men's pants</a>
						<ul>
							<li><a href="">Jeans</a></li>
							<li><a href="">Short pant</a></li>
							<li><a href="">Trouser</a></li>
						</ul>					
					</li>
				</ul>
			
			</li>
			<li><a href="">Female</a></li>
			<li><a href="">Children</a></li>
			<li><a href="">Sale</a></li>
			<li><a href="">Collection</a></li>
			<li><a href="">Information</a></li>
		</div>
		<div class="orther">
			<li><input placeholder="Search" type="text"><i class="fa fa-search"></i></li>
			<li><a class="fa fa-user" href="login.html"></a></li>
			<i class="fa fa-shopping-bag" id="cart-icon"></i>
			<!--cart---------->
			<div class="cart">
				<h2 class="cart-title">Your cart</h2>
				<!--cart---------->
				<div class="cart-content">

				</div>
				<!--total---------->
				<div class="total">
					<div class="total-title">Total</div>
					<div class="total-price">0vnd</div>
				</div>
				<!--buy-button---------->
				<button type="button" class="btn-buy">Buy now</button>
				<!--cart-close---------->
				<i class="fa fa-times" id="close-cart"></i>
			</div>
		</div>
	</header>
<!---------Banner-slider-------->
<section id="slider">
<div class="aspect-ratio-169">
	<img src="images/banner1.jpg">
	<img src="images/banner2.jpg">
	<img src="images/banner3.jpg">
	<img src="images/banner4.jpg">
	<img src="images/banner5.jpg">
</div>
<div class="dot-container">
	<div class="dot active"></div>
	<div class="dot"></div>
	<div class="dot"></div>
	<div class="dot"></div>
	<div class="dot"></div>
</div>
</section>
<!---------Item-------->
<section class="shop container">
	<h2 class="section-title">Shop products</h2>
	<div class="shop-content">
		<!--box1---------->
		<div class="product-box">
			<img src="images/item1.jpg" alt="" class="product-img">
			<h2 class="product-title">Set Áo Sơ Mi Lụa Và Chân Váy</h2>
			<span class="price">100000vnd</span>
			<i class="fa fa-shopping-bag add-cart"></i>
		</div>

		<!--box2---------->
		<div class="product-box">
			<img src="images/item2.jpg" alt="" class="product-img">
			<h2 class="product-title">Đầm Sơ Mi Eo Nhúm</h2>
			<span class="price">142000vnd</span>
			<i class="fa fa-shopping-bag add-cart"></i>
		</div>

		<!--box3---------->
		<div class="product-box">
			<img src="images/item3.jpg" alt="" class="product-img">
			<h2 class="product-title">Đầm Lụa Thêu Hoa Dáng Xòe</h2>
			<span class="price">320000vnd</span>
			<i class="fa fa-shopping-bag add-cart"></i>
		</div>

		<!--box4---------->
		<div class="product-box">
			<img src="images/item4.jpg" alt="" class="product-img">
			<h2 class="product-title">Đầm Tweed Đính Hoa Nổi</h2>
			<span class="price">300000vnd</span>
			<i class="fa fa-shopping-bag add-cart"></i>
		</div>

		<!--box5---------->
		<div class="product-box">
			<img src="images/item5.jpg" alt="" class="product-img">
			<h2 class="product-title">Đầm Lụa Xếp Ly Ngực</h2>
			<span class="price">130000vnd</span>
			<i class="fa fa-shopping-bag add-cart"></i>
		</div>

		<!--box6---------->
		<div class="product-box">
			<img src="images/item6.jpg" alt="" class="product-img">
			<h2 class="product-title">Đầm Lụa Xòe Cổ Buộc Nơ
			</h2>
			<span class="price">133000vnd</span>
			<i class="fa fa-shopping-bag add-cart"></i>
		</div>

		<!--box7---------->
		<div class="product-box">
			<img src="images/item7.jpg" alt="" class="product-img">
			<h2 class="product-title">Đầm Maxi Lụa Phối Đai</h2>
			<span class="price">43000vnd</span>
			<i class="fa fa-shopping-bag add-cart"></i>
		</div>

		<!--box8---------->
		<div class="product-box">
			<img src="images/item8.jpg" alt="" class="product-img">
			<h2 class="product-title">Đầm Lụa Xếp Ly Xòe</h2>
			<span class="price">110000vnd</span>
			<i class="fa fa-shopping-bag add-cart"></i>
		</div>

		<!--box9---------->
		<div class="product-box">
			<img src="images/item9.jpg" alt="" class="product-img">
			<h2 class="product-title">Áo Len Lông Cừu Đục Lỗe</h2>
			<span class="price">110000vnd</span>
			<i class="fa fa-shopping-bag add-cart"></i>
		</div>

		<!--box10---------->
		<div class="product-box">
			<img src="images/item10.jpg" alt="" class="product-img">
			<h2 class="product-title">Đầm Nhung Xòe Phồng</h2>
			<span class="price">110000vnd</span>
			<i class="fa fa-shopping-bag add-cart"></i>
		</div>
	</div>
</section>
<!---------Footer-------->
<footer>
	<div class="footer-top">
		<li><a href="">Contact</a></li>
		<li><a href="">Recruit</a></li>
		<li><a href="">Introduce</a></li>
		<li>
			<a href="" class="fa fa-facebook"></a>
			<a href="" class="fa fa-twitter"></a>
			<a href="" class="fa fa-youtube"></a>
		</li>
	</div>
	<div class="footer-center">
	<p>
		Contact phone number: 0111111111 <br>
		Registration address: ??????????? <br>
		Order online: <b>022222222</b>
	</p>
	</div>
	<div class="footer-bottom">
		©IVYmoda All rights reserved
	</div>
</footer>


	
</body>
<script>
//---------------------sticky-header---------------
	const header = document.querySelector("header")
		window.addEventListener("scroll",function(){
			x =window.pageYOffset
			if(x>0){
				header.classList.add("sticky")
			}
			else{
				header.classList.remove("sticky")
			}
		//console.log(x)
		})

//---------------------sliderbanner-dotcontroller---------------
	const imgPosition = document.querySelectorAll(".aspect-ratio-169 img")
	const imgContainer = document.querySelector('.aspect-ratio-169')
	const dotItem= document.querySelectorAll(".dot")
	let imgNumber = imgPosition.length
	let index = 0
	//console.log(imgPosition)
	imgPosition.forEach(function(images,index){
		images.style.left = index*100 + "%"
		dotItem[index].addEventListener("click",function(){
			slider (index)
	})
})
	function imgSlide (){
		index++;
		console.log(index)
		if (index>=imgNumber){
			index=0
		}
		slider (index)
	}
	function slider (index){
		imgContainer.style.left ="-"+index*100+"%"
		const dotActive = document.querySelector('.active')
		dotActive.classList.remove("active")
		dotItem[index].classList.add("active")
	}
	setInterval(imgSlide,5000)

//-----------------cart---------------
let cartIcon = document.querySelector("#cart-icon");
let cart = document.querySelector(".cart");
let closeCart = document.querySelector("#close-cart");
//----------------open-cart---------------
cartIcon.onclick = () =>{
    cart.classList.add("active1");
}
//----------------close-cart---------------
closeCart.onclick = () =>{
    cart.classList.remove("active1");
}



//----------------cart-work-3$---------------
if (document.readyState == 'loading'){
	document.addEventListener('DOMContentLoaded', ready);
}else{
	ready();
}
//----------------Making-function---------------
function ready(){
	//remove item from cart
	var removeCartButtons = document.getElementsByClassName('cart-remove')
	console.log(removeCartButtons)
	for(var i = 0; i < removeCartButtons.length; i++){
		var button = removeCartButtons[i]
		button.addEventListener("click", removeCartItem)
	}
	//quantity-----
	var quantityInputs = document.getElementsByClassName('cart-quantity')
	for(var i = 0; i < quantityInputs.length; i++){
		var input = quantityInputs[i]
		input.addEventListener("change", quantityChanged)
	}

	//add to cart
	var addCart = document.getElementsByClassName('add-cart')
	for(var i = 0; i < addCart.length; i++){
		var button = addCart[i]
		button.addEventListener("click", addCartClicked)
	}
	//buy button work
	document.getElementsByClassName("btn-buy")[0].addEventListener("click", buyButtonClicked)
}

	//buy button
	function buyButtonClicked(){
		alert("You order is placed")
		var cartContent = document.getElementsByClassName("cart-content")[0]
		while(cartContent.hasChildNodes()){
			cartContent.removeChild(cartContent.firstChild)
		}
		updateTotal()
	}

	//remove item from cart
	function removeCartItem(event){
		var buttonCliked = event.target
		buttonCliked.parentElement.remove()
		updateTotal()
	}
	//quantity change
	function quantityChanged(event){
		var input = event.target
		if(isNaN(input.value) || input.value <= 0){
			input.value = 1
		}
		updateTotal()
	}
	//add to cart
	function addCartClicked(event){
		var button = event.target
		var shopProducts = button.parentElement
		var title = shopProducts.getElementsByClassName("product-title")[0].innerText
		var price = shopProducts.getElementsByClassName("price")[0].innerText
		var productImg = shopProducts.getElementsByClassName("product-img")[0].src
		console.log(title)
		addProductToCart(title, price, productImg)
		updateTotal()
	}
	
	function addProductToCart(title, price, productImg){
		var cartShopBox = document.createElement("div")
		cartShopBox.classList.add('cart-box')
		var carItem = document.getElementsByClassName("cart-content")[0]
		var cartItemNames = carItem.getElementsByClassName("cart-product-title")
		for(var i = 0; i < cartItemNames.length; i++){
			if(cartItemNames[i].innerText == title){
				alert("You have already add this item to cart")
				return;
			}
		}
		var cartBoxContent = `
							<img src="${productImg}" alt="" class="cart-img">
							<div class="detail-box">
								<div class="cart-product-title">${title}</div>
								<div class="cart-price">${price}</div>
								<input type="number" value="1" class="cart-quantity">
							</div>
							<!--remove-cart---------->
							<i class="fa fa-trash cart-remove"></i>`
		cartShopBox.innerHTML = cartBoxContent
		carItem.append(cartShopBox)
		cartShopBox.getElementsByClassName("cart-remove")[0].addEventListener("click", removeCartItem)
		cartShopBox.getElementsByClassName("cart-quantity")[0].addEventListener("change", quantityChanged)
	}						
	//update total
	function updateTotal(){
		var cartContent = document.getElementsByClassName('cart-content')[0]
		var cartBoxes = cartContent.getElementsByClassName('cart-box')
		var total = 0
		for(var i = 0; i < cartBoxes.length; i++){
			var cartBox = cartBoxes[i]
			var priceElement = cartBox.getElementsByClassName('cart-price')[0]
			var quantityElement = cartBox.getElementsByClassName('cart-quantity')[0]
			var price = parseFloat(priceElement.innerText.replace("vnd", ""))
			var quantity = quantityElement.value
			total = total + (price * quantity)
		}
			//if price contain some cents value
			total = Math.round(total *100) / 100

			document.getElementsByClassName("total-price")[0].innerText = total + "vnd"
		
	}




</script>

<script src="js/cart.js"></script>
</html>